<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the setup method from the TrustPinSDK class, for the Dart programming language.">
  <title>setup method - TrustPinSDK class - trustpin_sdk library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">
  
</head>

<body data-base-href="../../" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">trustpin_sdk</a></li>
    <li><a href="../../trustpin_sdk/">trustpin_sdk.dart</a></li>
    <li><a href="../../trustpin_sdk/TrustPinSDK-class.html">TrustPinSDK</a></li>
    <li class="self-crumb">setup method</li>
  </ol>
  <div class="self-name">setup</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
<div
    id="dartdoc-main-content"
    class="main-content"
    data-above-sidebar="trustpin_sdk&#47;TrustPinSDK-class-sidebar.html"
    data-below-sidebar="">
    <div>
<h1><span class="kind-method">setup</span> method 
</h1></div>

    <section class="multi-line-signature">
      
<span class="returntype"><a href="https://api.flutter.dev/flutter/dart-core/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter">void</span>&gt;</span></span>
<span class="name ">setup</span>(<wbr>{<ol class="parameter-list"> <li><span class="parameter" id="setup-param-organizationId"><span>required</span> <span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/String-class.html">String</a></span> <span class="parameter-name">organizationId</span>, </span></li>
<li><span class="parameter" id="setup-param-projectId"><span>required</span> <span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/String-class.html">String</a></span> <span class="parameter-name">projectId</span>, </span></li>
<li><span class="parameter" id="setup-param-publicKey"><span>required</span> <span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/String-class.html">String</a></span> <span class="parameter-name">publicKey</span>, </span></li>
<li><span class="parameter" id="setup-param-mode"><span class="type-annotation"><a href="../../trustpin_sdk/TrustPinMode.html">TrustPinMode</a></span> <span class="parameter-name">mode</span> = <span class="default-value">TrustPinMode.strict</span>, </span></li>
</ol>})

      

    </section>
    
<section class="desc markdown">
  <p>Initializes the TrustPin SDK with the specified configuration.</p>
<p>This method configures TrustPin with your organization credentials and fetches
the pinning configuration from the TrustPin service. The configuration is cached
for 10 minutes to optimize performance and reduce network requests.</p>
<h2 id="example-usage">Example Usage</h2>
<pre class="language-dart"><code class="language-dart">// Production setup with strict mode
await trustPin.setup(
  organizationId: 'prod-org-123',
  projectId: 'mobile-app-v2',
  publicKey: 'LS0tLS1CRUdJTi...',
  mode: TrustPinMode.strict,
);

// Development setup with permissive mode
await trustPin.setup(
  organizationId: 'dev-org-456',
  projectId: 'mobile-app-staging',
  publicKey: 'LS0tLS1CRUdJTk...',
  mode: TrustPinMode.permissive,
);
</code></pre>
<h2 id="security-considerations">Security Considerations</h2>
<ul>
<li><strong>Production</strong>: Always use <a href="../../trustpin_sdk/TrustPinMode.html">TrustPinMode.strict</a> mode to ensure all connections are validated</li>
<li><strong>Development</strong>: Use <a href="../../trustpin_sdk/TrustPinMode.html">TrustPinMode.permissive</a> mode to allow connections to unregistered domains</li>
<li><strong>Credentials</strong>: Keep your public key secure and never commit it to version control in plain text</li>
</ul>
<h2 id="network-requirements">Network Requirements</h2>
<p>This method requires network access to fetch the pinning configuration from
<code>https://cdn.trustpin.cloud</code>. Ensure your app has appropriate network permissions
and can reach this endpoint.</p>
<ul>
<li>
<p>Parameter <code>organizationId</code>: Your organization identifier from the TrustPin dashboard</p>
</li>
<li>
<p>Parameter <code>projectId</code>: Your project identifier from the TrustPin dashboard</p>
</li>
<li>
<p>Parameter <code>publicKey</code>: Base64-encoded ECDSA P-256 public key for JWS signature verification</p>
</li>
<li>
<p>Parameter <code>mode</code>: The pinning mode controlling behavior for unregistered domains (default: <a href="../../trustpin_sdk/TrustPinMode.html">TrustPinMode.strict</a>)</p>
</li>
<li>
<p>Throws <a href="../../trustpin_sdk/TrustPinException-class.html">TrustPinException</a> with code <code>INVALID_PROJECT_CONFIG</code> if credentials are invalid or empty</p>
</li>
<li>
<p>Throws <a href="../../trustpin_sdk/TrustPinException-class.html">TrustPinException</a> with code <code>ERROR_FETCHING_PINNING_INFO</code> if network request fails</p>
</li>
<li>
<p>Throws <a href="../../trustpin_sdk/TrustPinException-class.html">TrustPinException</a> with code <code>JWS_VALIDATION_FAILED</code> if JWS signature verification fails</p>
</li>
<li>
<p>Important: This method must be called before any certificate verification operations.</p>
</li>
<li>
<p>Note: Configuration is automatically cached for 10 minutes to improve performance.</p>
</li>
</ul>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Future&lt;void&gt; setup({
  required String organizationId,
  required String projectId,
  required String publicKey,
  TrustPinMode mode = TrustPinMode.strict,
}) async {
  try {
    await TrustPinSDKPlatform.instance.setup(
      organizationId,
      projectId,
      publicKey,
      mode: mode.value,
    );
  } catch (e) {
    throw TrustPinException._fromPlatformException(e);
  }
}</code></pre>
</section>


  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">trustpin_sdk</a></li>
    <li><a href="../../trustpin_sdk/">trustpin_sdk</a></li>
    <li><a href="../../trustpin_sdk/TrustPinSDK-class.html">TrustPinSDK</a></li>
    <li class="self-crumb">setup method</li>
</ol>

    <h5>TrustPinSDK class</h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
</div><!--/.sidebar-offcanvas-->
</main>
<footer>
  <span class="no-break">
    trustpin_sdk
      0.0.1
  </span>
  
</footer>


<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>

</body>
</html>

